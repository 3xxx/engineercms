webpackJsonp([1],{"/VNc":function(e,t){},"0KKU":function(e,t){},"4X2X":function(e,t){},"5W18":function(e,t){},"71Uw":function(e,t){},"75Fm":function(e,t){},"7xIN":function(e,t){},"8Fkr":function(e,t){},"9evm":function(e,t){},EneG:function(e,t){},IA6g:function(e,t){},IDnF:function(e,t){},J6NY:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("HsqT"),a={name:"App",data:function(){return{isCollapse:!0,searchCriteria:""}},computed:{activeName:{get:function(){return this.$route.name},set:function(e){this.$router.replace({name:e})}}},methods:{handleIconClick:function(e){console.log(e)},handleSelect:function(e,t){switch(e){case"readme":this.$router.push("/");break;case"doctype":this.$router.push("/doctype");break;case"docstate":this.$router.push("/docstate");break;case"docaction":this.$router.push("/docaction");break;case"transition":this.$router.push("/transition");break;case"workflow":this.$router.push("/workflow");break;case"node":this.$router.push("/node");break;case"accesscontext":this.$router.push("/accesscontext");break;case"user":this.$router.push("/user");break;case"group":this.$router.push("/group");break;case"userGroup":this.$router.push("/userGroup");break;case"role":this.$router.push("/role");break;case"permission":this.$router.push("/permission");break;case"groupRole":this.$router.push("/groupRole");break;case"documents":this.$router.push("/documents");break;case"event":this.$router.push("/event");break;case"documentlist":this.$router.push("/documentlist");break;case"documentdetail":this.$router.push("/documentdetail");break;case"usermailbox":this.$router.push("/usermailbox");break;case"groupmailbox":this.$router.push("/groupmailbox")}}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=o("C7Lr")(a,r,!1,function(e){o("NgcA")},"data-v-071cbad0",null).exports,i=o("KGCO"),s=o("lC5x"),c=o.n(s),u=o("J0Oq"),d=o.n(u),m={data:function(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){},computed:{},methods:{submitForm:function(e){var t,o=this,n=this;this.$refs[e].validate((t=d()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}o.$http.post("/hxmback/api/Admin/Login",{Name:o.loginForm.username}).then(function(e){var t=this;1===e.data.Status?(setCookie("token",e.data.Result),setCookie("username",n.loginForm.username),this.$message({showClose:!0,type:"success",message:"登陆成功"}),setTimeout(function(){t.$router.push({path:"/"})},1e3)):this.$message({showClose:!0,type:"warning",message:e.data.Result})}.bind(o)).catch(function(e){this.$notify.error({title:"错误",message:"错误：请检查网络"})}.bind(o)),e.next=6;break;case 4:return o.$notify.error({title:"错误",message:"请输入用户名和密码",offset:100}),e.abrupt("return",!1);case 6:case"end":return e.stop()}},e,o)})),function(e){return t.apply(this,arguments)}))}},watch:{adminInfo:function(e){}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_page fillcontain"},[o("transition",{attrs:{name:"form-fade",mode:"in-out"}},[o("section",{staticClass:"form_contianer"},[o("div",{staticClass:"manage_tip"},[o("p",[e._v("后台管理系统")])]),e._v(" "),o("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),o("el-form-item",[o("el-button",{staticClass:"submit_btn",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登陆")])],1)],1)],1)])],1)},staticRenderFns:[]};var f=o("C7Lr")(m,p,!1,function(e){o("/VNc")},"data-v-4dafef3e",null).exports,g={name:"App",data:function(){return{isCollapse:!0,searchCriteria:"",clientHeight:""}},mounted:function(){this.clientHeight=""+document.documentElement.clientHeight,window.onresize=function(){this.clientHeight=""+document.documentElement.clientHeight}},watch:{clientHeight:function(){this.changeFixed(this.clientHeight)}},computed:{activeName:{get:function(){return this.$route.name},set:function(e){this.$router.replace({name:e})}}},methods:{handleIconClick:function(e){console.log(e)},handleSelect:function(e,t){switch(e){case"readme":this.$router.push("/");break;case"doctype":this.$router.push("/doctype");break;case"docstate":this.$router.push("/docstate");break;case"docaction":this.$router.push("/docaction");break;case"transition":this.$router.push("/transition");break;case"workflow":this.$router.push("/workflow");break;case"node":this.$router.push("/node");break;case"accesscontext":this.$router.push("/accesscontext");break;case"user":this.$router.push("/user");break;case"group":this.$router.push("/group");break;case"userGroup":this.$router.push("/userGroup");break;case"role":this.$router.push("/role");break;case"permission":this.$router.push("/permission");break;case"groupRole":this.$router.push("/groupRole");break;case"documents":this.$router.push("/documents");break;case"event":this.$router.push("/event");break;case"documentlist":this.$router.push("/documentlist");break;case"documentdetail":this.$router.push("/documentdetail");break;case"usermailbox":this.$router.push("/usermailbox");break;case"groupmailbox":this.$router.push("/groupmailbox")}},changeFixed:function(e){this.$refs.homePage.$el.style.height=e-20+"px"}}},h={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("el-container",{ref:"homePage"},[o("el-header",{staticClass:"blueheader"},[o("h2",{staticClass:"headlogo"},[e._v("EngineerCMS"),o("img",{attrs:{src:"/static/logo.png"}})]),e._v(" "),o("el-col",{staticClass:"userinfo",attrs:{span:3}},[o("el-dropdown",[o("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[e._v("查看")]),e._v(" "),o("el-dropdown-item",[e._v("新增")]),e._v(" "),o("el-dropdown-item",[e._v("删除")])],1)],1),e._v(" "),o("span",[e._v("3xxx")])],1)],1),e._v(" "),o("el-container",[o("el-aside",{staticClass:"sidebar-container",staticStyle:{width:"auto"}},[o("el-radio-group",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{size:"mini"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[o("el-radio-button",{attrs:{label:!1}},[e._v("展开")]),e._v(" "),o("el-radio-button",{attrs:{label:!0}},[e._v("收起")])],1),e._v(" "),o("el-menu",{attrs:{"default-active":"doctype",collapse:e.isCollapse},on:{select:e.handleSelect}},[o("el-submenu",{attrs:{index:"doctype"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-ali-set"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("Doctype-state-action")])]),e._v(" "),o("el-menu-item",{attrs:{index:"doctype"}},[e._v("Doctype")]),e._v(" "),o("el-menu-item",{attrs:{index:"docstate"}},[e._v("Docstate")]),e._v(" "),o("el-menu-item",{attrs:{index:"docaction"}},[e._v("Docaction")])],2),e._v(" "),o("el-submenu",{attrs:{index:"transition"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-ali-all"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("Transison")])]),e._v(" "),o("el-menu-item",{attrs:{index:"transition"}},[e._v("Doctype_transition")]),e._v(" "),o("el-menu-item",{attrs:{index:"workflow"}},[e._v("Workflow")]),e._v(" "),o("el-menu-item",{attrs:{index:"node"}},[e._v("workflow_node")])],2),e._v(" "),o("el-submenu",{attrs:{index:"user"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-ali-account"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("Accesscontext")])]),e._v(" "),o("el-menu-item",{attrs:{index:"accesscontext"}},[e._v("accesscontext")]),e._v(" "),o("el-menu-item",{attrs:{index:"user"}},[e._v("user")]),e._v(" "),o("el-menu-item",{attrs:{index:"group"}},[e._v("group")]),e._v(" "),o("el-menu-item",{attrs:{index:"userGroup"}},[e._v("user_group")]),e._v(" "),o("el-menu-item",{attrs:{index:"role"}},[e._v("role")]),e._v(" "),o("el-menu-item",{attrs:{index:"permission"}},[e._v("permission")]),e._v(" "),o("el-menu-item",{attrs:{index:"groupRole"}},[e._v("group_role")])],2),e._v(" "),o("el-submenu",{attrs:{index:"documentlist"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-ali-viewlist"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("Douments")])]),e._v(" "),o("el-menu-item",{attrs:{index:"documentlist"}},[e._v("documentlist")])],2),e._v(" "),o("el-submenu",{attrs:{index:"mailbox"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-message"}),e._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("mailbox")])]),e._v(" "),o("el-menu-item",{attrs:{index:"usermailbox"}},[e._v("usermailbox")]),e._v(" "),o("el-menu-item",{attrs:{index:"groupmailbox"}},[e._v("groupmailbox")])],2)],1)],1),e._v(" "),o("el-main",{staticClass:"main-container"},[o("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[o("strong",{staticClass:"title"},[e._v(e._s(e.$route.name))]),e._v(" "),o("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return o("el-breadcrumb-item",{key:t.path},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("div",{staticStyle:{"margin-top":"10px"}},[o("router-view")],1)])],1)],1)],1)],1)},staticRenderFns:[]};var v=o("C7Lr")(g,h,!1,function(e){o("IA6g"),o("wukj")},"data-v-1f3194db",null).exports,b=o("a3Yh"),y=o.n(b),_=o("4Xi4"),w=o.n(_),k=o("aozt"),D={name:"readme",data:function(){var e;return e={activeNames:["1"],total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"doctypedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"search",""),e},mounted:function(){this.doctype(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;k({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleEdit:function(e,t){console.log(e,t.Name)},handleDelete:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),k({method:"POST",url:"/api/flowtype",params:{name:t.Name}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.doctype(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},sendGetByStr:function(){var e=this;k.get("api/v1/wx/getlistarticles?page=1").then(function(t){return e.info=t.data.info}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;k({method:"get",url:"/api/flowtypelist",params:{page:e,limit:this.pageSize}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.doctype(e)}}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("1 设计说明")]),e._v(" "),o("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"什么是文档流程？",name:"1"}},[o("div",[e._v("一个文档流程的本质就是改变文档状态state）；对应的，我们再设计一个改变状态的动作action；如果再给文档分类doctype，比如合同流程，采购流程的文档；再配合用户-角色-权限（accesscontex）；当一个文档处于一个state的时候，谁有权限permission操作action它？就要预设置好当前状态state下transition:从state1通过动作action1改为state2;那么一个文档如何按照指定的流程来往下走呢，就要先定义一系列节点node，再将这些节点组合到workflow下，见下面的数据结构和说明：")]),e._v(" "),o("pre",[e._v("        "),o("code",[e._v("\n          Document Type : docType1 //1.定义文档类型-流程类型\n          Document States : [\n              docState1, docState2, docState3, docState4 // 2.定义4个状态\n          ]\n          Document Actions : [\n            docAction12, docAction23, docAction34 // 3.定义修改状态的动作，实际应用中，除了向前传递，还要定义向后回退的动作。for the above document states\n            docAction21, docAction31, docAction41  //每个都直接回退到1\n          ]\n          Document Type State Transitions : [\n            docState1 --docAction12--\x3e docState2, //前进流程\n            docState2 --docAction21--\x3e docState1, //回退流程\n            docState2 --docAction23--\x3e docState3,\n            docState3 --docAction31--\x3e docState1,\n            docState3 --docAction34--\x3e docState4,\n            docState4 --docAction41--\x3e docState1,\n          ]\n\n          Access Contexts : [\n            accCtx1, accCtx2 // 主要是为了用户-角色-权限用的\n          ]\n          \n          Workflow : {\n            Name : wFlow1,  //一个doctype只能对应一个workflow\n            Initial State : docState1  //一个流程的初始状态\n          }\n          Nodes : [\n            node1: {\n              Document Type : docType1,\n              Workflow : wFlow1,\n              Node Type : NodeTypeBegin, // 开始节点 note this\n              From State : docState1,\n              Access Context : accCtx1,\n            },\n            node2: {\n              Document Type : docType1,\n              Workflow : wFlow1,\n              Node Type : NodeTypeLinear, // 中间节点可以是线性的，也可以是平行的 note this\n              From State : docState2,\n              Access Context : accCtx2, // a different context\n            },\n            node3: {\n              Document Type : docType1,\n              Workflow : wFlow1,\n              Node Type : NodeTypeEnd, // note this\n              From State : docState3,\n              Access Context : accCtx1,\n            },\n          ]\n        ")]),e._v("\n      ")]),e._v(" "),o("div",[e._v("以上都是系统管理员设置的部分，当一个用户使用这个系统的时候，他在某个板块（doctype分类）新建（上传）一个文档document，系统自动根据这个分类，设置了文档的初始state，在这个state下，一般只有一个动作可选，就是传递给下一个状态的操作，还要选接受的人或组（也可以系统固定），还可以写上注释、说明，最后点击按钮提交apply；系统要做的，记录下来谁在什么时间操作了，把信息message发送给对应的用户的信箱mailbox，当对应的用户登录系统的时候，可以查看message。")]),e._v(" "),o("div",[e._v("当用户点击信箱里某个信息，转到对应的文档详情detail上，能看到这个文档以往（历史）操作记录时间线，可以对这个文档进行操作：选择动作action，选择接受的组，提交apply。")])])],1),e._v(" "),o("h1",[e._v("2 设置部分")]),e._v(" "),o("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"1.1 设置doctype docstate和docaction",name:"2"}},[o("div",[e._v("1.1.1 文档类型doctype，只是给定一个名字而已，每个doctype对应一个workflow流程，如果文档某些需要签署到总经理，有些则只要签署到部门经理，咋办？")]),e._v(" "),o("div",[e._v("1.1.2 文档状态，即每一级给定一个状态，也只是定一个名字而已；")]),e._v(" "),o("div",[e._v("1.1.3 用户动作，从一个状态到另一个状态对应的动作，只是一个名字而已；")])]),e._v(" "),o("el-collapse-item",{attrs:{title:"1.2 设置transition node 和workflow",name:"3"}},[o("div",[e._v("1.2.1 transition转变，就是定义一个状态到另一个状态以及动作；")]),e._v(" "),o("div",[e._v("1.2.2 workflow流程，一种文档类型完整流程，将节点纳入到这个流程中，就完成了一个文档流程的设置；")]),e._v(" "),o("div",[e._v("1.2.3 node节点，给流程定义完整流程中各个节点，包括节点类型：比如是单线过来的还是这个节点有多线过来，有开始节点，和结束节点……；")])]),e._v(" "),o("el-collapse-item",{attrs:{title:"1.3 设置accesscontex",name:"4"}},[o("div",[e._v("1.3.1 accesscontex访问环境，就是给某个流程定义一下用户-角色-权限；")]),e._v(" "),o("div",[e._v("1.3.2 user用户，每个用户会自动生成一个单用户组，因为flow都是针对group的；")]),e._v(" "),o("div",[e._v("1.3.3 group用户组；")]),e._v(" "),o("div",[e._v("1.3.4 user_group将用户加入组；")]),e._v(" "),o("div",[e._v("1.3.5 role定义角色；")]),e._v(" "),o("div",[e._v("1.3.6 permission定义角色权限，即action；")]),e._v(" "),o("div",[e._v("1.3.7 group_role将group加入角色.")])])],1),e._v(" "),o("h1",[e._v("3 用户部分")]),e._v(" "),o("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"3.1 新建文档",name:"5"}},[o("div",[e._v("命名一个新的文档，支持子孙文档，附件作为链接地址……实际应用flow，就是嵌入你的系统中的文档；")]),e._v(" "),o("div",[e._v("比如engineercms里对于工程设计成果的校审流程，类似projectwise里定制的流程或OA办公系统里的流程。")])]),e._v(" "),o("el-collapse-item",{attrs:{title:"3.2 传递文档",name:"6"}},[o("div",[e._v("选择action决定文档是往前传递还是回退，加入说明文字；")]),e._v(" "),o("div",[e._v("可以查阅历史时间线。")])]),e._v(" "),o("el-collapse-item",{attrs:{title:"3.3 查阅消息",name:"7"}},[o("div",[e._v("当特定的用户登录，就能在自己的信箱中查阅信息，看看有哪些需要处理的流程；")]),e._v(" "),o("div",[e._v("已读的和未读的信息按不同颜色区分。")])])],1),e._v(" "),o("h1",[e._v("4 github&theory")]),e._v(" "),o("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"4.1 github",name:"8"}},[o("div",[o("a",{attrs:{href:"https://github.com/js-ojus/flow"}},[e._v("flow")]),e._v("——A workflow engine written in Go (golang).")]),e._v(" "),o("div",[o("a",{attrs:{href:"https://github.com/3xxx/flow-vue.js"}},[e._v("flow-vue.js")]),e._v("——A flow-UI(interface) made with flow+beego+vue.js+element+vue-element-extends.")]),e._v(" "),o("div",[o("a",{attrs:{href:"https://github.com/vuejs/vue"}},[e._v("vue.js")]),e._v("——A JavaScript framework for building UI on the web.")]),e._v(" "),o("div",[o("a",{attrs:{href:"https://github.com/astaxie/beego"}},[e._v("beego")]),e._v("——A open-source, high-performance web framework for the Go programming language.")]),e._v(" "),o("div",[o("a",{attrs:{href:"https://github.com/ElemeFE/element"}},[e._v("element")]),e._v("——A Vue.js 2.0 UI Toolkit for Web.")]),e._v(" "),o("div",[o("a",{attrs:{href:"https://github.com/xuliangzhan/vue-element-extends"}},[e._v("vue-element-extends")]),e._v("——A vue.js element editable.")])]),e._v(" "),o("el-collapse-item",{attrs:{title:"4.2 theory",name:"9"}},[o("div",[o("a",{attrs:{href:"https://exceptionnotfound.net/tag/workflow-engine"}},[e._v("workflow-engine")]),e._v("——An eight-part series on designing a workflow engine database.")]),e._v(" "),o("div")])],1)],1)},staticRenderFns:[]};var x=o("C7Lr")(D,F,!1,function(e){o("J6NY")},"data-v-10edbfdf",null).exports,I=o("aozt"),S={name:"doctype",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"search",""),e},mounted:function(){this.doctype(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;I({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleEdit:function(e,t){console.log(e,t.Name)},handleDelete:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),I({method:"POST",url:"/api/flowtype",params:{name:t.Name}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.doctype(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},sendGetByStr:function(){var e=this;I.get("api/v1/wx/getlistarticles?page=1").then(function(t){return e.info=t.data.info}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;I({method:"get",url:"/api/flowtypelist",params:{page:e,limit:this.pageSize}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.doctype(e)}}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.doctypedata.doctypes,border:"",stripe:""},on:{"update:data":function(t){return e.$set(e.doctypedata,"doctypes",t)}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.doctypedata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.doctypedata.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var $=o("C7Lr")(S,C,!1,function(e){o("9evm")},"data-v-398dc7a9",null).exports,N=o("aozt"),z={name:"docstate",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"search",""),e},mounted:function(){this.docstate(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;N({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),N({method:"POST",url:"/api/flowstate",params:{name:t.Name}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.docstate(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;N({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.docstate(e)}}},T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.docstatedata,border:"",stripe:""},on:{"update:data":function(t){e.docstatedata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义docstate",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var E=o("C7Lr")(z,T,!1,function(e){o("YT5i")},"data-v-3af91e62",null).exports,P=o("aozt"),R={name:"docaction",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"docactiondata",[{ID:1,Name:"提交设计"},{ID:2,Name:"提交校核"}]),y()(e,"docactionactivedata",[{ID:1,Value:!0,Name:"true"},{ID:0,Value:!1,Name:"false"}]),y()(e,"search",""),e},mounted:function(){this.docaction(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;P({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.docaction(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),P({method:"POST",url:"/api/flowaction",params:{name:t.Name,reconfirm:t.Reconfirm}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.docaction(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},sendGetByStr:function(){var e=this;P.get("api/v1/wx/getlistarticles?page=1").then(function(t){return e.info=t.data.info}).catch(function(e){console.log(e)})},docaction:function(e){var t=this;P({method:"get",url:"/api/flowactionlist",params:{page:e}}).then(function(e){return t.docactiondata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.docaction(e)}}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.docactiondata,border:"",stripe:""},on:{"update:data":function(t){e.docactiondata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"Reconfirm",label:"Reconfirm",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Reconfirm,callback:function(o){e.$set(t.row,"Reconfirm",o)},expression:"scope.row.Reconfirm"}},e._l(e.docactionactivedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Value}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义docaction",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var L=o("C7Lr")(R,j,!1,function(e){o("71Uw")},"data-v-ce0ae9c4",null).exports,A=o("aozt"),V={name:"transition",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"formLabelWidth","120px"),y()(e,"transitiondata",[{page:1,total:6,transitions:{DocactionId:1,DoctypeId:1,FromStateId:2,Id:1,ToStateId:3}}]),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"docstatedata",[{ID:3,Name:"设计中……"},{ID:5,Name:"校核中……"}]),y()(e,"docactiondata",[{ID:4,Name:"提交设计",Reconfirm:!1}]),y()(e,"search",""),y()(e,"sortList",[{list:"观影兑换券"},{list:"室内乐兑换券"},{list:"沙龙兑换券"}]),e},mounted:function(){this.transition(this.currentPage),this.doctype(this.currentPage),this.docstate(this.currentPage),this.docaction(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;A({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},transition:function(e){var t=this;A({method:"get",url:"/api/flowtransitionlist",params:{page:e,limit:this.pageSize}}).then(function(e){return t.transitiondata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;A({method:"get",url:"/api/flowtypelist"}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;A({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},docaction:function(e){var t=this;A({method:"get",url:"/api/flowactionlist",params:{page:e}}).then(function(e){return t.docactiondata=e.data}).catch(function(e){console.log(e)})},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:""})},handleSubmit:function(e,t){console.log(t),A({method:"POST",url:"/api/flowtransition",params:{dtid:t.DoctypeId,dsid1:t.FromStateId,daid:t.DocactionId,dsid2:t.ToStateId}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.transition(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.transition(e)},getColumnLabel:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.docactiondata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel4:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null}}},O={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.transitiondata.transitions,border:"",stripe:""},on:{"update:data":function(t){return e.$set(e.transitiondata,"transitions",t)}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"DoctypeId",label:"DOCTYPE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DoctypeId,callback:function(o){e.$set(t.row,"DoctypeId",o)},expression:"scope.row.DoctypeId"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.DoctypeId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"FromStateId",label:"FromState",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.FromStateId,callback:function(o){e.$set(t.row,"FromStateId",o)},expression:"scope.row.FromStateId"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.FromStateId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"DocactionId",label:"DOCACTION",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocactionId,callback:function(o){e.$set(t.row,"DocactionId",o)},expression:"scope.row.DocactionId"}},e._l(e.docactiondata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.DocactionId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"ToStateId",label:"ToState",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.ToStateId,callback:function(o){e.$set(t.row,"ToStateId",o)},expression:"scope.row.ToStateId"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel4(t.row.ToStateId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.transitiondata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.transitiondata.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var G=o("C7Lr")(V,O,!1,function(e){o("75Fm")},"data-v-5a348214",null).exports,H=o("aozt"),W={name:"workflow",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"workflowdata",[{Active:!0,BeginState:{ID:7,Name:"设计中..."},DocType:{ID:3,Name:"图纸设计"},ID:3,Name:"图纸设计流程"}]),y()(e,"doctypedata",{doctypes:[{ID:3,Name:"图纸设计"}],page:1,total:7}),y()(e,"docstatedata",[{ID:3,Name:"设计中……"},{ID:5,Name:"校核中……"}]),y()(e,"docactiondata",[{ID:4,Name:"提交设计"}]),y()(e,"workflowactivedata",[{ID:1,Value:!0,Name:"true"},{ID:2,Value:!1,Name:"false"}]),y()(e,"search",""),e},mounted:function(){this.workflow(this.currentPage),this.doctype(this.currentPage),this.docstate(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;H({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},workflow:function(e){var t=this;H({method:"get",url:"/api/flowworkflowlist",params:{page:e}}).then(function(e){return t.workflowdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;H({method:"get",url:"/api/flowtypelist"}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;H({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){console.log("ID"),e.push({ID:"",Name:"",DocType:{ID:"",Name:""},BeginState:{ID:"",Name:""},Active:!0})},handleSubmit:function(e,t){console.log(t),H({method:"POST",url:"/api/flowworkflow",params:{name:t.Name,dtid:t.DocType.ID,dsid:t.BeginState.ID}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.workflow(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.workflow(e)},formatter:function(e,t){return String(e.Active)},getColumnLabel:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.workflowactivedata.find(function(t){return t.Value===e});return t?t.Name:null}}},Y={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.workflowdata,border:"",stripe:""},on:{"update:data":function(t){e.workflowdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"NAME",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"DocType.ID",label:"DOCTYPE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocType.ID,callback:function(o){e.$set(t.row.DocType,"ID",o)},expression:"scope.row.DocType.ID"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.DocType.ID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"BeginState.ID",label:"BeginSTATE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.BeginState.ID,callback:function(o){e.$set(t.row.BeginState,"ID",o)},expression:"scope.row.BeginState.ID"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.BeginState.ID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"Active",label:"ACTIVE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Active,callback:function(o){e.$set(t.row,"Active",o)},expression:"scope.row.Active"}},e._l(e.workflowactivedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Value}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.Active)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.workflowdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var M=o("C7Lr")(W,Y,!1,function(e){o("RLsL")},"data-v-7da6d1ce",null).exports,U=o("aozt"),B={name:"node",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"formLabelWidth","120px"),y()(e,"workflowdata",[{ID:1,Name:"测试数据"}]),y()(e,"nodedata",[{ID:1,DocType:3,DocState:7,Name:"node测试数据",NodeType:"begin",Workflow:3}]),y()(e,"doctypedata",{doctypes:[{ID:3,Name:"图纸设计"}],page:1,total:7}),y()(e,"docstatedata",[{ID:3,Name:"设计中……"},{ID:5,Name:"校核中……"}]),y()(e,"accesscontextdata",[{ID:4,Name:"提交设计"}]),y()(e,"nodetypedata",[{ID:1,Name:"begin"},{ID:2,Name:"end"},{ID:3,Name:"linear"},{ID:4,Name:"branch"},{ID:5,Name:"joinany"},{ID:6,Name:"joinall"}]),y()(e,"search",""),y()(e,"value",""),y()(e,"workflowid",1),e},mounted:function(){this.workflow(this.currentPage),this.doctype(this.currentPage),this.docstate(this.currentPage),this.accesscontext(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;U({method:"POST",url:"/api/flownode",params:{name:t.ruleForm2.nodename,dtid:t.ruleForm2.dtid,dsid:t.ruleForm2.dsid,acid:t.ruleForm2.acid,nodetype:t.ruleForm2.nodetype},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},workflow:function(e){var t=this;U({method:"get",url:"/api/flowworkflowlist",params:{page:e}}).then(function(e){return t.workflowdata=e.data}).catch(function(e){console.log(e)})},node:function(e){var t=this;U({method:"get",url:"/api/flownodelist",params:{page:e,workflowid:this.workflowid}}).then(function(e){return t.nodedata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;U({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;U({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;U({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:""})},handleSubmit:function(e,t){console.log(t),U({method:"POST",url:"/api/flownode",params:{name:t.Name,dtid:t.DocType,dsid:t.DocState,acid:t.AccessContext,nodetype:t.NodeType}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.node(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},sendGetByStr:function(){var e=this;U.get("api/v1/wx/getlistarticles?page=1").then(function(t){return e.info=t.data.info}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.node(e)},getColumnLabel:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.accesscontextdata.find(function(t){return t.ID===e});return t?t.Name:null},changeValue:function(e){this.workflowid=e,this.node(this.currentPage)}}},K={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-col",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-select",{attrs:{placeholder:"请选择workflow",clearable:""},on:{change:e.changeValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.workflowdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1)],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.nodedata,border:"",stripe:""},on:{"update:data":function(t){e.nodedata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"NAME",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"DocType",label:"DOCTYPE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocType,callback:function(o){e.$set(t.row,"DocType",o)},expression:"scope.row.DocType"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.DocType)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"DocState",label:"DOCSTATE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocState,callback:function(o){e.$set(t.row,"DocState",o)},expression:"scope.row.DocState"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.DocState)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"NodeType",label:"NODETYPE",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.NodeType,callback:function(o){e.$set(t.row,"NodeType",o)},expression:"scope.row.NodeType"}},e._l(e.nodetypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.nodedata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义work_node",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"nodename"}},[o("el-input",{staticStyle:{width:"215px"},attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.nodename,callback:function(t){e.$set(e.ruleForm2,"nodename",e._n(t))},expression:"ruleForm2.nodename"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"DocType",prop:"dtid"}},[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dtid,callback:function(t){e.$set(e.ruleForm2,"dtid",e._n(t))},expression:"ruleForm2.dtid"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"DocState",prop:"dsid"}},[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dsid,callback:function(t){e.$set(e.ruleForm2,"dsid",e._n(t))},expression:"ruleForm2.dsid"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"AccCtx",prop:"acid"}},[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.acid,callback:function(t){e.$set(e.ruleForm2,"acid",e._n(t))},expression:"ruleForm2.acid"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"NodeType",prop:"nodetype"}},[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.nodetype,callback:function(t){e.$set(e.ruleForm2,"nodetype",e._n(t))},expression:"ruleForm2.nodetype"}},e._l(e.nodetypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}),1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var q,J=o("C7Lr")(B,K,!1,function(e){o("fGiO")},"data-v-de53bcd6",null).exports,X=o("aozt"),Z={name:"accesscontext",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"formLabelWidth","120px"),y()(e,"accesscontextdata",[{Id:1,Name:"我是accesscontext"}]),y()(e,"accesscontextactivedata",[{ID:1,Value:!0,Name:"true"},{ID:2,Value:!1,Name:"false"}]),y()(e,"search",""),e},mounted:function(){this.accesscontext(this.currentPage)},methods:(q={submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;X({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},accesscontext:function(e){var t=this;X({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Name:""})},handleSubmit:function(e,t){console.log(t),X({method:"POST",url:"/api/flowaccesscontext",params:{name:t.Name}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.accesscontext(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},sendGetByStr:function(){var e=this;X.get("api/v1/wx/getlistarticles?page=1").then(function(t){return e.info=t.data.info}).catch(function(e){console.log(e)})}},y()(q,"accesscontext",function(e){var t=this;X({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})}),y()(q,"getSimpleText",function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)}),y()(q,"even",function(e){return e%2==0}),y()(q,"even1",function(e){return 0===e}),y()(q,"changeCollapse",function(e){this.isCollapse=1!=e}),y()(q,"skip",function(e){this.$router.push(e)}),y()(q,"jump",function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}}),y()(q,"toNext",function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")}),y()(q,"handleSizeChange",function(e){this.pageSize=e}),y()(q,"handleCurrentChange",function(e){this.currentPage=e,this.accesscontext(e)}),y()(q,"formatter",function(e,t){return String(e.Active)}),q)},Q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.accesscontextdata,border:"",stripe:""},on:{"update:data":function(t){e.accesscontextdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"Active",label:"ACTIVE",formatter:e.formatter,editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Active,callback:function(o){e.$set(t.row,"Active",o)},expression:"scope.row.Active"}},e._l(e.accesscontextactivedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Value}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.workflowdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ee=o("C7Lr")(Z,Q,!1,function(e){o("aTsB")},"data-v-11a9d7ac",null).exports,te=o("aozt"),oe={name:"user",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"formLabelWidth","120px"),y()(e,"userdata",[{ID:1,FirstName:"秦",LastName:"晓川1",Email:"xc-qin1@163.com",Active:!0},{ID:2,FirstName:"秦",LastName:"晓川2",Email:"xc-qin2@163.com",Active:!0}]),y()(e,"search",""),y()(e,"useractivedata",[{ID:1,Value:!0,Name:"true"},{ID:0,Value:!1,Name:"false"}]),e},mounted:function(){this.user(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;te({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),te({method:"POST",url:"/api/flowuser",params:{firstname:t.FirstName,lastname:t.LastName,email:t.Email,active:t.Active}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},user:function(e){var t=this;te({method:"get",url:"/api/flowuserlist",params:{page:e}}).then(function(e){return t.userdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.user(e)},formatter:function(e,t){return String(e.Active)},getColumnLabel:function(e){var t=this.useractivedata.find(function(t){return t.Value===e});return t?t.Name:null}}},ne={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.userdata,border:"",stripe:""},on:{"update:data":function(t){e.userdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"FirstName",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"LastName",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Email",prop:"Email",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"Active",label:"ACTIVE",formatter:e.formatter,editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Active,callback:function(o){e.$set(t.row,"Active",o)},expression:"scope.row.Active"}},e._l(e.useractivedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Value}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.Active)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.userdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ae=o("C7Lr")(oe,ne,!1,function(e){o("4X2X")},"data-v-b86933f8",null).exports,re=o("aozt"),le={name:"group",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"search",""),y()(e,"grouptypedata",[{ID:1,Name:"S"},{ID:2,Name:"G"}]),y()(e,"search",""),e},mounted:function(){this.group(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;re({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),re({method:"POST",url:"/api/flowgroup",params:{name:t.Name,grouptype:t.GroupType}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.group(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},group:function(e){var t=this;re({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.group(e)},getColumnLabel:function(e){var t=this.grouptypedata.find(function(t){return t.Name===e});return t?t.Name:null}}},ie={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.groupdata,border:"",stripe:""},on:{"update:data":function(t){e.groupdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"GroupType",label:"GroupType",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.GroupType,callback:function(o){e.$set(t.row,"GroupType",o)},expression:"scope.row.GroupType"}},e._l(e.grouptypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.GroupType)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.groupdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var se=o("C7Lr")(le,ie,!1,function(e){o("utzg")},"data-v-183c7b81",null).exports,ce=o("aozt"),ue={name:"userGroup",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"usergroupdata",[{ID:1,Group:{ID:1,Name:"设计组",GroupType:"G"},Users:[{ID:1,FirstName:"秦",LastName:"晓川1",Email:"xc-qin1@163.com",Active:!0},{ID:2,FirstName:"秦",LastName:"晓川2",Email:"xc-qin2@163.com",Active:!0}]}]),y()(e,"grouptypedata",[{ID:1,Name:"S"},{ID:2,Name:"G"}]),y()(e,"userdata",[{ID:1,FirstName:"秦",LastName:"晓川1",Email:"xc-qin1@163.com",Active:!0},{ID:2,FirstName:"秦",LastName:"晓川2",Email:"xc-qin2@163.com",Active:!0}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"userid2",[]),y()(e,"groupid2",""),e},mounted:function(){this.usergroup(this.currentPage),this.group(this.currentPage),this.user(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;ce({method:"POST",url:"/api/flowusergroup",params:{gid:t.ruleForm2.groupid2,uid:t.ruleForm2.userid2}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:{ID:"",Name:"",GroupType:"G"},Users:[{ID:"",FirstName:"",LastName:"",Email:"",Active:!0}]})},handleSubmit:function(e,t){console.log(t),ce({method:"POST",url:"/api/flowusergroup",params:{firstname:t.FirstName,lastname:t.LastName,email:t.Email,active:t.Active}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},usergroup:function(e){var t=this;ce({method:"get",url:"/api/flowgroupuserslist",params:{page:e}}).then(function(e){return t.usergroupdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;ce({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},user:function(e){var t=this;ce({method:"get",url:"/api/flowuserlist",params:{page:e}}).then(function(e){return t.userdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.usersgroup(e)},getColumnLabel:function(e){var t=this.grouptypedata.find(function(t){return t.Name===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.grouptypedata.find(function(t){return t.Name===e});return t?t.Name:null}}},de={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.usergroupdata,border:"",stripe:""},on:{"update:data":function(t){e.usergroupdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"Group.GroupType",label:"GroupType",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Group.GroupType,callback:function(o){e.$set(t.row.Group,"GroupType",o)},expression:"scope.row.Group.GroupType"}},e._l(e.grouptypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.Group.GroupType)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"GrouName",prop:"Group.Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Users",prop:"Users[0].LastName",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Users[0].ID,callback:function(o){e.$set(t.row.Users[0],"ID",o)},expression:"scope.row.Users[0].ID"}},e._l(t.row.Users,function(e){return o("el-option",{key:e.ID,attrs:{label:e.FirstName+e.LastName,value:e.ID}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.usergroupdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加usergroup",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"group",prop:"groupid2"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.groupid2,callback:function(t){e.$set(e.ruleForm2,"groupid2",t)},expression:"ruleForm2.groupid2"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"users",prop:"userid2"}},[[o("el-select",{attrs:{multiple:"",clearable:""},model:{value:e.ruleForm2.userid2,callback:function(t){e.$set(e.ruleForm2,"userid2",t)},expression:"ruleForm2.userid2"}},e._l(e.userdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.FirstName+e.LastName,value:e.ID}})}),1)]],2)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var me=o("C7Lr")(ue,de,!1,function(e){o("pkCJ")},"data-v-208a5d8e",null).exports,pe=o("aozt"),fe={name:"role",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"formLabelWidth","120px"),y()(e,"roledata",[{ID:1,Name:"校核角色"},{ID:2,Name:"审查角色"}]),y()(e,"search",""),e},mounted:function(){this.role(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;pe({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:""})},handleSubmit:function(e,t){console.log(t),pe({method:"POST",url:"/api/flowrole",params:{name:t.Name}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.group(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},role:function(e){var t=this;pe({method:"get",url:"/api/flowrolelist",params:{page:e}}).then(function(e){return t.roledata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.role(e)}}},ge={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.roledata,border:"",stripe:""},on:{"update:data":function(t){e.roledata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Name",prop:"Name",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.roledata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var he=o("C7Lr")(fe,ge,!1,function(e){o("WeLD")},"data-v-3cd73784",null).exports,ve=o("aozt"),be={name:"permission",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"permissiondata",[{RoleId:1,TypeAction:{Actions:[{ID:1,Name:"提交设计",Reconfirm:!1}]},DocTypeID:3}]),y()(e,"roledata",[{ID:1,Name:"审查角色"}]),y()(e,"doctypedata",{doctypes:[{ID:3,Name:"图纸设计"}],page:1,total:7}),y()(e,"docactiondata",[{ID:4,Name:"提交设计"}]),y()(e,"search",""),y()(e,"dtid2",""),y()(e,"daid2",""),y()(e,"roleid2",""),e},mounted:function(){this.permission(this.currentPage),this.role(this.currentPage),this.doctype(this.currentPage),this.docaction(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;ve({method:"POST",url:"/api/flowpermission",params:{dtid:t.ruleForm2.dtid2,roleid:t.ruleForm2.roleid2,daid:t.ruleForm2.daid2}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:"",Name:"",DocType:{ID:"",Name:""},BeginState:{ID:"",Name:""},Active:!0})},handleSubmit:function(e,t){console.log(t),ve({method:"POST",url:"/api/flowpermission",params:{name:t.Name,dtid:t.DoctypeId,dsid:t.FromStateId}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.workflow(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},permission:function(e){var t=this;ve({method:"get",url:"/api/flowrolepermissionlist",params:{page:e}}).then(function(e){return t.permissiondata=e.data}).catch(function(e){console.log(e)})},role:function(e){var t=this;ve({method:"get",url:"/api/flowrolelist",params:{page:e}}).then(function(e){return t.roledata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;ve({method:"get",url:"/api/flowtypelist"}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docaction:function(e){var t=this;ve({method:"get",url:"/api/flowactionlist",params:{page:e}}).then(function(e){return t.docactiondata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.flowtypelist(e)},formatter:function(e,t){},getColumnLabel:function(e){var t=this.roledata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.accesscontextdata.find(function(t){return t.ID===e});return t?t.Name:null}}},ye={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.permissiondata,border:"",stripe:""},on:{"update:data":function(t){e.permissiondata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"RoleID",label:"RoleName",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.RoleID,callback:function(o){e.$set(t.row,"RoleID",o)},expression:"scope.row.RoleID"}},e._l(e.roledata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.RoleID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"TypeAction.DocTypeID",label:"Doctype",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.TypeAction.DocTypeID,callback:function(o){e.$set(t.row.TypeAction,"DocTypeID",o)},expression:"scope.row.TypeAction.DocTypeID"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.TypeAction.DocTypeID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"TypeAction.Actions[0].ID",label:"Action",formatter:e.formatter,editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.TypeAction.Actions[0].ID,callback:function(o){e.$set(t.row.TypeAction.Actions[0],"ID",o)},expression:"scope.row.TypeAction.Actions[0].ID"}},e._l(t.row.TypeAction.Actions,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.permissiondata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加permission",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dtid2,callback:function(t){e.$set(e.ruleForm2,"dtid2",t)},expression:"ruleForm2.dtid2"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"Role",prop:"roleid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.roleid2,callback:function(t){e.$set(e.ruleForm2,"roleid2",t)},expression:"ruleForm2.roleid2"}},e._l(e.roledata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"Action",prop:"daid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.daid2,callback:function(t){e.$set(e.ruleForm2,"daid2",t)},expression:"ruleForm2.daid2"}},e._l(e.docactiondata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _e=o("C7Lr")(be,ye,!1,function(e){o("0KKU")},"data-v-de8d9c6c",null).exports,we=o("aozt"),ke={name:"groupRole",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"search",""),y()(e,"grouproledata",[{Id:1,AcId:1,GroupId:1,RoleId:1}]),y()(e,"accesscontextdata",[{ID:1,Name:"context"}]),y()(e,"groupdata",[{ID:1,Name:"审查组"}]),y()(e,"roledata",[{ID:1,Name:"审查角色"}]),e},mounted:function(){this.grouprole(this.currentPage),this.group(this.currentPage),this.accesscontext(this.currentPage),this.role(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;we({method:"POST",url:"/api/flowtype",params:{name:t.ruleForm2.typename},data:{name:t.ruleForm2.typename}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.flowtypelist(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({ID:""})},handleSubmit:function(e,t){console.log(t),we({method:"POST",url:"/api/flowgrouprole",params:{acid:t.AcId,gid:t.GroupId,roleid:t.RoleId}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.workflow(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},grouprole:function(e){var t=this;we({method:"get",url:"/api/flowgrouprolelist",params:{page:e}}).then(function(e){return t.grouproledata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;we({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;we({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},role:function(e){var t=this;we({method:"get",url:"/api/flowrolelist",params:{page:e}}).then(function(e){return t.roledata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},skip:function(e){this.$router.push(e)},jump:function(e){console.log(e);var t=this.$router.resolve({path:"/onlyoffice"});switch(e){case"onlyoffice":t=this.$router.resolve({path:"/onlyoffice"}),window.open(t.href);break;case"project":t=this.$router.resolve({path:"/project"}),window.open(t.href);break;case"design":t=this.$router.resolve({path:"/design"}),window.open(t.href);break;default:t=this.$router.resolve({path:"/index"}),window.open(t.href)}},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.currentPage=e,this.flowtypelist(e)},getColumnLabel:function(e){var t=this.accesscontextdata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.roledata.find(function(t){return t.ID===e});return t?t.Name:null}}},De={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.grouproledata,border:"",stripe:""},on:{"update:data":function(t){e.grouproledata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{prop:"AcId",label:"ACCESSCONTEXT",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.AcId,callback:function(o){e.$set(t.row,"AcId",o)},expression:"scope.row.AcId"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.AcId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"GroupId",label:"Group",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.GroupId,callback:function(o){e.$set(t.row,"GroupId",o)},expression:"scope.row.GroupId"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.Name,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.GroupId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{prop:"RoleId",label:"Role",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.RoleId,callback:function(o){e.$set(t.row,"RoleId",o)},expression:"scope.row.RoleId"}},e._l(e.roledata,function(e){return o("el-option",{key:e.Name,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.RoleId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.grouproledata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"定义doctype",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"typename"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.typename,callback:function(t){e.$set(e.ruleForm2,"typename",e._n(t))},expression:"ruleForm2.typename"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Fe=o("C7Lr")(ke,De,!1,function(e){o("t9WT")},"data-v-405052b9",null).exports,xe=o("aozt"),Ie={name:"documents",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"documentsdata",[{Id:1,AcId:1,DocstateId:1,GroupId:1,Title:"documents title",Data:"数据",Path:"path",Ctime:"2019-02-09"}]),y()(e,"accesscontextdata",[{Id:1,Name:"我是accesscontext"}]),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"value1",""),y()(e,"value2",""),y()(e,"value3",""),e},mounted:function(){this.documents(3,this.currentPage),this.accesscontext(this.currentPage),this.group(this.currentPage),this.docstate(this.currentPage),this.doctype(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;xe({method:"POST",url:"/api/flowdoc",params:{dtid:t.ruleForm2.value1,acid:t.ruleForm2.value2,gid:t.ruleForm2.value3,docname:t.ruleForm2.docname,docdata:t.ruleForm2.docdata}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(3,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),xe({method:"POST",url:"/api/flowdocument",params:{acid:t.AcId,dtid:t.DoctypeId,gid:t.GroupId,title:t.Title,data:t.Data,path:t.Path}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},documents:function(e,t){var o=this;xe({method:"get",url:"/api/flowdoclist",params:{page:t,limit:this.pageSize,dtid:e}}).then(function(e){return o.documentsdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;xe({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;xe({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;xe({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;xe({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.documents(e)},formatter:function(e,t){var o=e.Ctime;return void 0===o?"":this.$moment(o).format("YYYY-MM-DD HH:mm")},getColumnLabel:function(e){var t=this.accesscontextdata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null}}},Se={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.documentsdata,border:"",stripe:""},on:{"update:data":function(t){e.documentsdata=t}}},[o("el-editable-column",{attrs:{label:"AccCtx",prop:"AcId",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.AcId,callback:function(o){e.$set(t.row,"AcId",o)},expression:"scope.row.AcId"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.AcId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCSTATE",prop:"DocstateId",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocstateId,callback:function(o){e.$set(t.row,"DocstateId",o)},expression:"scope.row.DocstateId"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.DocstateId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"GROUP",prop:"GroupId",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.GroupId,callback:function(o){e.$set(t.row,"GroupId",o)},expression:"scope.row.GroupId"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.GroupId)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"TITLE",prop:"Title",size:"mini",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DATA",prop:"Data",size:"mini",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"PATH",prop:"Path",size:"mini",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Ctime",size:"mini",formatter:e.formatter}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.documentsdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加document",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value1,callback:function(t){e.$set(e.ruleForm2,"value1",t)},expression:"ruleForm2.value1"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"ACCESSCONTEXT",prop:"acid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value2,callback:function(t){e.$set(e.ruleForm2,"value2",t)},expression:"ruleForm2.value2"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"GROUP",prop:"gid"}},[[o("el-select",{attrs:{"value-key":"ID",clearable:""},model:{value:e.ruleForm2.value3,callback:function(t){e.$set(e.ruleForm2,"value3",t)},expression:"ruleForm2.value3"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"TITLE",prop:"docname"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docname,callback:function(t){e.$set(e.ruleForm2,"docname",e._n(t))},expression:"ruleForm2.docname"}})],1),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"DATA",prop:"docdata"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docdata,callback:function(t){e.$set(e.ruleForm2,"docdata",e._n(t))},expression:"ruleForm2.docdata"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ce=o("C7Lr")(Ie,Se,!1,function(e){o("EneG")},"data-v-ffbbf950",null).exports,$e=o("aozt"),Ne={name:"documents",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"eventdata",[{Ctime:"2019-02-10T10:51:35Z",DocAction:11,DocID:1,DocState:8,DocType:4,Group:12,ID:17,Status:2,Text:"events"}]),y()(e,"documentsdata",[{Id:1,AcId:1,DocstateId:1,GroupId:1,Title:"documents title",Data:"数据",Path:"path",Ctime:"2019-02-09"}]),y()(e,"doctypedata",{doctypes:[{ID:3,Name:"图纸设计"}],page:1,total:7}),y()(e,"docstatedata",[{ID:1,Name:"设计中。。"},{ID:2,Name:"校核中。。"}]),y()(e,"docactiondata",[{ID:1,Name:"提交设计"},{ID:2,Name:"提交校核"}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"value1",""),y()(e,"value2",""),y()(e,"value3",""),y()(e,"value4",""),y()(e,"value5",""),e},mounted:function(){this.event(4,this.currentPage),this.doctype(this.currentPage),this.documents(4,this.currentPage),this.docstate(this.currentPage),this.docaction(this.currentPage),this.group(this.currentPage)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;$e({method:"POST",url:"/api/flowdocevent",params:{dtid:t.ruleForm2.value1,docid:t.ruleForm2.value2,dsid:t.ruleForm2.value3,daid:t.ruleForm2.value4,gid:t.ruleForm2.value5,text:t.ruleForm2.eventtext}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(4,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),$e({method:"POST",url:"/api/flowevent",params:{dtid:t.DoctypeId,docid:t.DocId,dsid:t.DocstateId,daid:t.DocactionId,gid:t.GroupId,title:t.Title,data:t.Data,path:t.Path}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},event:function(e,t){var o=this;$e({method:"get",url:"/api/flowdoceventlist",params:{page:t,limit:this.pageSize,dtid:4,acid:1,gid:12,dsid:8}}).then(function(e){return o.eventdata=e.data}).catch(function(e){console.log(e)})},documents:function(e,t){var o=this;$e({method:"get",url:"/api/flowdoclist",params:{page:t,limit:this.pageSize,dtid:e}}).then(function(e){return o.documentsdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;$e({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;$e({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},docaction:function(e){var t=this;$e({method:"get",url:"/api/flowactionlist",params:{page:e}}).then(function(e){return t.docactiondata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;$e({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;$e({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.event(e)},formatter:function(e,t){var o=e.Ctime;return void 0===o?"":this.$moment(o).format("YYYY-MM-DD HH:mm")},getColumnLabel:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.documentsdata.find(function(t){return t.Id===e});return t?t.Data:null},getColumnLabel3:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel4:function(e){var t=this.docactiondata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel5:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null}}},ze={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(t){e.$refs.editable.insertAt({name:"New last "+Date.now(),flag:!0,createDate:Date.now()},-1)}}},[e._v("新增")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.eventdata,border:"",stripe:""},on:{"update:data":function(t){e.eventdata=t}}},[o("el-editable-column",{attrs:{label:"DOCTYPE",prop:"DocType",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocType,callback:function(o){e.$set(t.row,"DocType",o)},expression:"scope.row.DocType"}},e._l(e.doctypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.DocType)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCUMENT",prop:"DocID",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocID,callback:function(o){e.$set(t.row,"DocID",o)},expression:"scope.row.DocID"}},e._l(e.documentsdata,function(e){return o("el-option",{key:e.Id,attrs:{label:e.Data,value:e.Id}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel2(t.row.DocID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCSTATE",prop:"DocState",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocState,callback:function(o){e.$set(t.row,"DocState",o)},expression:"scope.row.DocState"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.DocState)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCACTION",prop:"DocAction",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocAction,callback:function(o){e.$set(t.row,"DocAction",o)},expression:"scope.row.DocAction"}},e._l(e.docactiondata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel4(t.row.DocAction)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"GROUP",prop:"Group",size:"mini",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Group,callback:function(o){e.$set(t.row,"Group",o)},expression:"scope.row.Group"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel5(t.row.Group)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"TEXT",prop:"Text",editRender:{Name:"ElInput"},size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Ctime",formatter:e.formatter,size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"STATUS",prop:"Status",size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Save")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.eventdata)}}},[e._v("Delete")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加event",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value1,callback:function(t){e.$set(e.ruleForm2,"value1",t)},expression:"ruleForm2.value1"}},e._l(e.doctypedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"DOCUMENT",prop:"docid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value2,callback:function(t){e.$set(e.ruleForm2,"value2",t)},expression:"ruleForm2.value2"}},e._l(e.documentsdata,function(e){return o("el-option",{key:e.Id,attrs:{label:e.Data,value:e.Id}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"STATE",prop:"dsid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value3,callback:function(t){e.$set(e.ruleForm2,"value3",t)},expression:"ruleForm2.value3"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"ACTION",prop:"daid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.value4,callback:function(t){e.$set(e.ruleForm2,"value4",t)},expression:"ruleForm2.value4"}},e._l(e.docactiondata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"GROUP",prop:"gid"}},[[o("el-select",{attrs:{"value-key":"ID",clearable:""},model:{value:e.ruleForm2.value5,callback:function(t){e.$set(e.ruleForm2,"value5",t)},expression:"ruleForm2.value5"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"TEXT",prop:"eventtext"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入注释"},model:{value:e.ruleForm2.eventtext,callback:function(t){e.$set(e.ruleForm2,"eventtext",e._n(t))},expression:"ruleForm2.eventtext"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Te=o("C7Lr")(Ne,ze,!1,function(e){o("IDnF")},"data-v-af384560",null).exports,Ee=o("aozt"),Pe={name:"documentlist",data:function(){var e;return e={total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"documentsdata",[y()({ID:1,DocType:{ID:4,Name:"变更立项"},Path:"",AccessContext:{ID:1},DocState:{ID:8,Name:"校核中..."},Group:{ID:12,Name:"校核人员组",GroupType:""},Ctime:"2019-02-09T21:52:40Z",Title:"这个是测试数据"},"Path","/path/document")]),y()(e,"accesscontextdata",[{ID:1,Name:"我是accesscontext"}]),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"dtid2",""),y()(e,"acid2",""),y()(e,"gid2",""),y()(e,"acvalue",""),y()(e,"dtvalue",""),y()(e,"dtid",""),y()(e,"acid",""),y()(e,"message",""),e},mounted:function(){this.accesscontext(this.currentPage),this.group(this.currentPage),this.docstate(this.currentPage),this.doctype(this.currentPage)},methods:{detail:function(e,t){this.$router.push({path:"/documentdetail",query:{docid:t.ID,dtid:t.DocType.ID}})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Ee({method:"POST",url:"/api/flowdoc",params:{dtid:t.ruleForm2.dtid2,acid:t.ruleForm2.acid2,gid:t.ruleForm2.gid2,docname:t.ruleForm2.docname,docdata:t.ruleForm2.docdata}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(3,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),Ee({method:"POST",url:"/api/flowdocument",params:{acid:t.AcId,dtid:t.DoctypeId,gid:t.GroupId,title:t.Title,data:t.Data,path:t.Path}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},documents:function(e){var t=this;Ee({method:"get",url:"/api/flowdocumentlist",params:{page:e,limit:this.pageSize,dtid:this.dtid,acid:this.acid}}).then(function(e){return t.documentsdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;Ee({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;Ee({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;Ee({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;Ee({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.documents(e)},formatter:function(e,t){var o=e.Ctime;return void 0===o?"":this.$moment(o).subtract(8,"hour").format("YYYY-MM-DD HH:mm")},getColumnLabel:function(e){var t=this.accesscontextdata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.doctypedata.doctypes.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel3:function(e){var t=this.docstatedata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel4:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null},changedtValue:function(e){console.log(e),this.dtid=e,""!=this.acid&&this.documents(this.currentPage)},changeacValue:function(e){console.log(e),this.acid=e,""!=this.dtid&&this.documents(this.currentPage)}}},Re={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-col",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-select",{attrs:{placeholder:"请选择doctype",clearable:""},on:{change:e.changedtValue},model:{value:e.dtvalue,callback:function(t){e.dtvalue=t},expression:"dtvalue"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1),e._v(" "),o("el-select",{attrs:{placeholder:"请选择accCTX",clearable:""},on:{change:e.changeacValue},model:{value:e.acvalue,callback:function(t){e.acvalue=t},expression:"acvalue"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1)],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.documentsdata,border:"",stripe:""},on:{"update:data":function(t){e.documentsdata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"TITLE",prop:"Title",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCSTATE",prop:"DocState.ID",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.DocState.ID,callback:function(o){e.$set(t.row.DocState,"ID",o)},expression:"scope.row.DocState.ID"}},e._l(e.docstatedata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel3(t.row.DocState.ID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"GROUP",prop:"Group.Name",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Group.ID,callback:function(o){e.$set(t.row.Group,"ID",o)},expression:"scope.row.Group.ID"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel4(t.row.Group.ID)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"PATH",prop:"Path",size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Ctime",size:"mini",formatter:e.formatter,align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.detail(t.$index,t.row)}}},[e._v("detail")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.documentsdata)}}},[e._v("Del")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加document",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dtid2,callback:function(t){e.$set(e.ruleForm2,"dtid2",t)},expression:"ruleForm2.dtid2"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"ACCESSCONTEXT",prop:"acid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.acid2,callback:function(t){e.$set(e.ruleForm2,"acid2",t)},expression:"ruleForm2.acid2"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"GROUP",prop:"gid"}},[[o("el-select",{attrs:{"value-key":"ID",clearable:""},model:{value:e.ruleForm2.gid2,callback:function(t){e.$set(e.ruleForm2,"gid2",t)},expression:"ruleForm2.gid2"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"TITLE",prop:"docname"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docname,callback:function(t){e.$set(e.ruleForm2,"docname",e._n(t))},expression:"ruleForm2.docname"}})],1),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"DATA",prop:"docdata"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docdata,callback:function(t){e.$set(e.ruleForm2,"docdata",e._n(t))},expression:"ruleForm2.docdata"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var je=o("C7Lr")(Pe,Re,!1,function(e){o("i3E4")},"data-v-73dce462",null).exports,Le=o("aozt"),Ae={name:"documentdetail",data:function(){var e;return e={reverse:!0,activities2:[{content:"支持使用图标",timestamp:"2018-04-12 20:46",size:"large",type:"primary",icon:"el-icon-more"},{content:"支持自定义颜色",timestamp:"2018-04-03 20:46",color:"#0bbd87"},{content:"支持自定义尺寸",timestamp:"2018-04-02 20:46",size:"large"},{content:"默认样式的节点",timestamp:"2018-04-01 20:46"}],total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{name:"",pass:"",num:"",delivery:!1},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"documentdetaildata",[{Document:{ID:5,DocType:{ID:14,Name:"秘密"},Path:"",AccessContext:{ID:1},DocState:{ID:10,Name:"核定中..."},Group:{ID:7,Name:"email1@example.com",GroupType:""},Ctime:"2019-03-09T20:09:56Z",Title:"布置图啊1",Data:"data"},Action:null,History:[{FromState:"设计中...",DocAction:"提交设计",ToState:"校核中...",Group:"email4@example.com",Data:"no comments",Ctime:"2019-03-09T18:31:02Z"},{FromState:"校核中...",DocAction:"提交审查",ToState:"审查中...",Group:"email4@example.com",Data:"校核完毕，提交审查",Ctime:"2019-03-09T19:59:20Z"}],Text:""}]),y()(e,"accesscontextdata",[{Id:1,Name:"我是accesscontext"}]),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"docactiondata",[{ID:1,Name:"提交设计"},{ID:2,Name:"提交校核"}]),y()(e,"value1",[]),y()(e,"value2",""),e},mounted:function(){this.docaction(this.currentPage),this.group(this.currentPage),this.documentdetail()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Le({method:"POST",url:"/api/flowdoc",params:{dtid:t.ruleForm2.value1,acid:t.ruleForm2.value2,gid:t.ruleForm2.value3,title:t.ruleForm2.docname,data:t.ruleForm2.docdata}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(3,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),Le({method:"POST",url:"/api/flownext",params:{docid:t.Document.ID,dtid:t.Document.DocType.ID,daid:this.value2,gid:this.value1,text:t.Text}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documentdetail(),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},documentdetail:function(){var e=this;this.docid=this.$route.query.docid,this.dtid=this.$route.query.dtid,Le({method:"get",url:"/api/flowdocumentdetail",params:{docid:this.docid,dtid:this.dtid}}).then(function(t){return e.documentdetaildata=t.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;Le({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;Le({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;Le({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;Le({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},docaction:function(e){var t=this;Le({method:"get",url:"/api/flowactionlist",params:{page:e}}).then(function(e){return t.docactiondata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.documents(e)},formatter:function(e,t){var o=e.Document.Ctime;return void 0===o?"":this.$moment(o).format("YYYY-MM-DD HH:mm:ss")},getColumnLabel:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null},getColumnLabel2:function(e){var t=this.documentdetaildata[0].Action.find(function(t){return t.ID===e});return t?t.Name:null}}},Ve={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-share",size:"small"}},[e._v("分享")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"small"}},[e._v("删除")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1)],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.documentdetaildata,border:"",stripe:""},on:{"update:data":function(t){e.documentdetaildata=t}}},[o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DocState",prop:"Document.DocState.Name",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"recip GROUPs",prop:"value1",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{multiple:"",clearable:""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"ACTIONS",prop:"value2",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.documentdetaildata[0].Action,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"TITLE",prop:"Document.Title",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"PATH",prop:"Document.Path",size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Document.Ctime",size:"mini",formatter:e.formatter,align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Text",prop:"Text",editRender:{Name:"ElInput"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(o){return e.handleSubmit(t.$index,t.row)}}},[e._v("Apply")])]}}])})],1),e._v(" "),o("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[o("p")]),e._v(" "),o("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[o("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.documentdetaildata[0].History,function(t,n){return o("el-timeline-item",{key:n},[o("el-card",[o("h4",[e._v("Group："+e._s(t.Group))]),e._v(" "),o("p",[e._v("Comment："+e._s(t.Data))]),e._v(" "),o("p",[e._v("于“ "+e._s(e._f("dateformat")(t.Ctime))+" ”将文档状态从“ "+e._s(t.FromState)+" ”通过动作“ "+e._s(t.DocAction)+" ”改为“ "+e._s(t.ToState)+" ”")])])],1)}),1)],1)],1)},staticRenderFns:[]};var Oe=o("C7Lr")(Ae,Ve,!1,function(e){o("ont/")},"data-v-e219b3da",null).exports,Ge=o("aozt"),He={name:"usermailbox",data:function(){var e;return e={unreaddata:[{ID:1,Value:!0,Name:"true"},{ID:0,Value:!1,Name:"false"}],total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"usermailboxdata",[{Group:7,Message:{ID:2,DocType:{ID:3,Name:"初始测试doctype"},DocID:2,DocEvent:21,Title:"初始测试title",Data:"no comments"},Unread:!0,Ctime:"2019-03-09T17:10:19Z"}]),y()(e,"userdata",[{ID:1,FirstName:"秦",LastName:"晓川1",Email:"xc-qin1@163.com",Active:!0},{ID:2,FirstName:"秦",LastName:"晓川2",Email:"xc-qin2@163.com",Active:!0}]),y()(e,"accesscontextdata",[{ID:1,Name:"我是accesscontext"}]),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"doctypedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"uid",""),y()(e,"unreadvalue",""),e},mounted:function(){this.user(this.currentPage),this.group(this.currentPage)},methods:{detail:function(e,t){this.$router.push({path:"/documentdetail",query:{docid:t.Message.DocID,dtid:t.Message.DocType.ID}})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Ge({method:"POST",url:"/api/flowdoc",params:{dtid:t.ruleForm2.dtid2,acid:t.ruleForm2.acid2,gid:t.ruleForm2.gid2,docname:t.ruleForm2.docname,docdata:t.ruleForm2.docdata}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(3,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),Ge({method:"POST",url:"/api/flowdocument",params:{acid:t.AcId,dtid:t.DoctypeId,gid:t.GroupId,title:t.Title,data:t.Data,path:t.Path}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},usermailbox:function(e){var t=this;Ge({method:"get",url:"/api/flowusermailbox",params:{page:e,limit:this.pageSize,uid:this.uid,unread:this.unreadvalue}}).then(function(e){return t.usermailboxdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;Ge({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;Ge({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;Ge({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},user:function(e){var t=this;Ge({method:"get",url:"/api/flowuserlist",params:{page:e}}).then(function(e){return t.userdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;Ge({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.documents(e)},formatter:function(e,t){var o=e.Ctime;return void 0===o?"":this.$moment(o).subtract(8,"hour").format("YYYY-MM-DD HH:mm")},getColumnLabel:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null},changeuserValue:function(e){this.uid=e,""!==this.unreadvalue&&this.usermailbox(this.currentPage)},changeunreadValue:function(e){this.unreadvalue=e,""!==this.uid&&this.usermailbox(this.currentPage)}}},We={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-col",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-select",{attrs:{placeholder:"请选择user",clearable:""},on:{change:e.changeuserValue},model:{value:e.uid,callback:function(t){e.uid=t},expression:"uid"}},e._l(e.userdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.FirstName+e.LastName,value:e.ID}})}),1),e._v(" "),o("el-select",{attrs:{placeholder:"请选择unread",clearable:""},on:{change:e.changeunreadValue},model:{value:e.unreadvalue,callback:function(t){e.unreadvalue=t},expression:"unreadvalue"}},e._l(e.unreaddata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.Name}})}),1)],1)],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.usermailboxdata,border:"",stripe:""},on:{"update:data":function(t){e.usermailboxdata=t}}},[o("el-editable-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"DATA"}},[o("span",[e._v(e._s(t.row.Message.Data))])]),e._v(" "),o("el-form-item",{attrs:{label:"title"}},[o("span",[e._v(e._s(t.row.Message.Title))])]),e._v(" "),o("el-form-item",{attrs:{label:"Ctime"}},[o("span",[e._v(e._s(e._f("dateformat")(t.row.Ctime)))])])],1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCTYPE",prop:"Message.DocType.Name",editRender:{type:"default"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DOC",prop:"Message.DocID",editRender:{type:"default"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"GROUP",prop:"Group",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Group,callback:function(o){e.$set(t.row,"Group",o)},expression:"scope.row.Group"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.Group)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Ctime",size:"mini",formatter:e.formatter,align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Unread",prop:"Unread",size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.detail(t.$index,t.row)}}},[e._v("detail")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.documentsdata)}}},[e._v("Del")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加document",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dtid2,callback:function(t){e.$set(e.ruleForm2,"dtid2",t)},expression:"ruleForm2.dtid2"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"ACCESSCONTEXT",prop:"acid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.acid2,callback:function(t){e.$set(e.ruleForm2,"acid2",t)},expression:"ruleForm2.acid2"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"GROUP",prop:"gid"}},[[o("el-select",{attrs:{"value-key":"ID",clearable:""},model:{value:e.ruleForm2.gid2,callback:function(t){e.$set(e.ruleForm2,"gid2",t)},expression:"ruleForm2.gid2"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"TITLE",prop:"docname"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docname,callback:function(t){e.$set(e.ruleForm2,"docname",e._n(t))},expression:"ruleForm2.docname"}})],1),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"DATA",prop:"docdata"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docdata,callback:function(t){e.$set(e.ruleForm2,"docdata",e._n(t))},expression:"ruleForm2.docdata"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ye=o("C7Lr")(He,We,!1,function(e){o("bG/j")},"data-v-3ebfb2de",null).exports,Me=o("aozt"),Ue={name:"groupmailbox",data:function(){var e;return e={unreaddata:[{ID:1,Value:!0,Name:"true"},{ID:0,Value:!1,Name:"false"}],total:50,currentPage:1,pageSize:10,loginPower:!1,checked:!0,ruleForm2:{},rules2:{typename:[{validator:function(e,t,o){""===t?o(new Error("请输入账号")):o()},trigger:"blur"}],pass:[{validator:function(e,t,o){""===t?o(new Error("请输入密码")):o()},trigger:"blur"}],num:[{validator:function(e,t,o){if(!t)return o(new Error("账号不能为空"));setTimeout(function(){w()(t)?/^[1][3,4,5,7,8][0-9]{9}$/.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",type:[],resource:"",desc:""},formLabelWidth:"120px",isCollapse:!0,bannerHeight:200,clientHeight:"",posts:[],numbers:0},y()(e,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),y()(e,"groupmailboxdata",[{Group:7,Message:{ID:2,DocType:{ID:3,Name:"图纸设计"},DocID:2,DocEvent:21,Title:"厂房布置图",Data:"no comments"},Unread:!0,Ctime:"2019-03-09T17:10:19Z"}]),y()(e,"userdata",[{ID:1,FirstName:"秦",LastName:"晓川1",Email:"xc-qin1@163.com",Active:!0},{ID:2,FirstName:"秦",LastName:"晓川2",Email:"xc-qin2@163.com",Active:!0}]),y()(e,"accesscontextdata",[{ID:1,Name:"我是accesscontext"}]),y()(e,"docstatedata",[{ID:1,Name:"图纸"},{ID:2,Name:"合同"}]),y()(e,"doctypedata",[{page:1,total:3,doctypes:{ID:1,Name:"draw"}}]),y()(e,"groupdata",[{ID:1,Name:"秦晓川",GroupType:"S"},{ID:2,Name:"校核组",GroupType:"G"}]),y()(e,"gid",""),y()(e,"unreadvalue",""),e},mounted:function(){this.group(this.currentPage)},methods:{detail:function(e,t){this.$router.push({path:"/documentdetail",query:{docid:t.Message.DocID,dtid:t.Message.DocType.ID}})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;Me({method:"POST",url:"/api/flowdoc",params:{dtid:t.ruleForm2.dtid2,acid:t.ruleForm2.acid2,gid:t.ruleForm2.gid2,docname:t.ruleForm2.docname,docdata:t.ruleForm2.docdata}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.documents(3,this.currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},changeWidthL:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},deleteRow:function(e,t){t.splice(e,1)},addRow:function(e,t){e.push({Id:"",Group:""})},handleSubmit:function(e,t){console.log(t),Me({method:"POST",url:"/api/flowdocument",params:{acid:t.AcId,dtid:t.DoctypeId,gid:t.GroupId,title:t.Title,data:t.Data,path:t.Path}}).then(function(e){console.log(e),"err"==e?(this.$message({type:"success",message:"提交成功"}),this.user(currentPage),this.dialogFormVisible=!1):this.$message.error("写入失败！")}).catch(function(e){console.log(e)})},groupmailbox:function(e){var t=this;Me({method:"get",url:"/api/flowgroupmailbox",params:{page:e,limit:this.pageSize,gid:this.gid,unread:this.unreadvalue}}).then(function(e){return t.groupmailboxdata=e.data}).catch(function(e){console.log(e)})},doctype:function(e){var t=this;Me({method:"get",url:"/api/flowtypelist",params:{page:e}}).then(function(e){return t.doctypedata=e.data}).catch(function(e){console.log(e)})},docstate:function(e){var t=this;Me({method:"get",url:"/api/flowstatelist",params:{page:e}}).then(function(e){return t.docstatedata=e.data}).catch(function(e){console.log(e)})},accesscontext:function(e){var t=this;Me({method:"get",url:"/api/flowaccesscontextlist",params:{page:e}}).then(function(e){return t.accesscontextdata=e.data}).catch(function(e){console.log(e)})},user:function(e){var t=this;Me({method:"get",url:"/api/flowuserlist",params:{page:e}}).then(function(e){return t.userdata=e.data}).catch(function(e){console.log(e)})},group:function(e){var t=this;Me({method:"get",url:"/api/flowgrouplist",params:{page:e}}).then(function(e){return t.groupdata=e.data}).catch(function(e){console.log(e)})},getSimpleText:function(e){var t=new RegExp("<.+?>","g");return"<br>"+e.replace(t,"").substring(0,20)},even:function(e){return e%2==0},even1:function(e){return 0===e},changeCollapse:function(e){this.isCollapse=1!=e},toNext:function(e){sessionStorage.ticketName=this.sortList[e].list,this.$router.push("/mine/tiketOrder")},handleSizeChange:function(e){this.pageSize=e,this.documents(3,this.currentPage)},handleCurrentChange:function(e){this.currentPage=e,this.documents(e)},formatter:function(e,t){var o=e.Ctime;return void 0===o?"":this.$moment(o).subtract(8,"hour").format("YYYY-MM-DD HH:mm")},getColumnLabel:function(e){var t=this.groupdata.find(function(t){return t.ID===e});return t?t.Name:null},changegroupValue:function(e){this.gid=e,""!==this.unreadvalue&&this.groupmailbox(this.currentPage)},changeunreadValue:function(e){this.unreadvalue=e,""!==this.gid&&this.groupmailbox(this.currentPage)}}},Be={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},nativeOn:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加m")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.$refs.editable.revert()}}},[e._v("放弃更改")]),e._v(" "),o("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$refs.editable.clear()}}},[e._v("清空数据")])],1),e._v(" "),o("el-button-group",{staticStyle:{float:"right",margin:"10px"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"small"}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"}},[e._v("刷新")])],1),e._v(" "),o("el-col",[o("el-button-group",{staticStyle:{float:"left",margin:"10px"}},[o("el-select",{attrs:{placeholder:"请选择group",clearable:""},on:{change:e.changegroupValue},model:{value:e.gid,callback:function(t){e.gid=t},expression:"gid"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1),e._v(" "),o("el-select",{attrs:{placeholder:"请选择unread",clearable:""},on:{change:e.changeunreadValue},model:{value:e.unreadvalue,callback:function(t){e.unreadvalue=t},expression:"unreadvalue"}},e._l(e.unreaddata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)],1)],1),e._v(" "),o("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.groupmailboxdata,border:"",stripe:""},on:{"update:data":function(t){e.groupmailboxdata=t}}},[o("el-editable-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"DATA"}},[o("span",[e._v(e._s(t.row.Message.Data))])]),e._v(" "),o("el-form-item",{attrs:{label:"title"}},[o("span",[e._v(e._s(t.row.Message.Title))])]),e._v(" "),o("el-form-item",{attrs:{label:"Ctime"}},[o("span",[e._v(e._s(t.row.Ctime))])])],1)]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"序号",type:"index","show-overflow-tooltip":"",width:"50",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DOCTYPE",prop:"Message.DocType.Name",editRender:{type:"default"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"DOC",prop:"Message.DocID",editRender:{type:"default"},align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"GROUP",prop:"Group",editRender:{type:"default"},align:"center"},scopedSlots:e._u([{key:"edit",fn:function(t){return[o("el-select",{attrs:{clearable:""},model:{value:t.row.Group,callback:function(o){e.$set(t.row,"Group",o)},expression:"scope.row.Group"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]}},{key:"default",fn:function(t){return[e._v(e._s(e.getColumnLabel(t.row.Group)))]}}])}),e._v(" "),o("el-editable-column",{attrs:{label:"CTIME",prop:"Ctime",size:"mini",formatter:e.formatter,align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"Unread",prop:"Unread",size:"mini",align:"center"}}),e._v(" "),o("el-editable-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.detail(t.$index,t.row)}}},[e._v("detail")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteRow(t.$index,e.documentsdata)}}},[e._v("Del")])],1)]}}])})],1),e._v(" "),o("el-pagination",{staticStyle:{float:"right",margin:"10px"},attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),o("el-dialog",{attrs:{title:"添加document",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"DOCTYPE",prop:"dtid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.dtid2,callback:function(t){e.$set(e.ruleForm2,"dtid2",t)},expression:"ruleForm2.dtid2"}},e._l(e.doctypedata.doctypes,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"ACCESSCONTEXT",prop:"acid"}},[[o("el-select",{attrs:{clearable:""},model:{value:e.ruleForm2.acid2,callback:function(t){e.$set(e.ruleForm2,"acid2",t)},expression:"ruleForm2.acid2"}},e._l(e.accesscontextdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{attrs:{label:"GROUP",prop:"gid"}},[[o("el-select",{attrs:{"value-key":"ID",clearable:""},model:{value:e.ruleForm2.gid2,callback:function(t){e.$set(e.ruleForm2,"gid2",t)},expression:"ruleForm2.gid2"}},e._l(e.groupdata,function(e){return o("el-option",{key:e.ID,attrs:{label:e.Name,value:e.ID}})}),1)]],2),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"TITLE",prop:"docname"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docname,callback:function(t){e.$set(e.ruleForm2,"docname",e._n(t))},expression:"ruleForm2.docname"}})],1),e._v(" "),o("el-form-item",{staticClass:"transparentIcon",staticStyle:{width:"320px"},attrs:{label:"DATA",prop:"docdata"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"输入名称"},model:{value:e.ruleForm2.docdata,callback:function(t){e.$set(e.ruleForm2,"docdata",e._n(t))},expression:"ruleForm2.docdata"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.resetForm("ruleForm2")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ke=o("C7Lr")(Ue,Be,!1,function(e){o("5W18")},"data-v-d6c9a268",null).exports;n.default.use(i.a);var qe=new i.a({routes:[{path:"/login",name:"登录",component:f},{path:"/",redirect:{name:"home"},component:v,children:[{path:"/",component:x,name:"README"}]},{path:"/",name:"doctype-state-action",component:v,children:[{path:"/doctype",component:$,name:"DOCTYPE"},{path:"/docstate",component:E,name:"DOCSTATE"},{path:"/docaction",component:L,name:"DOCACTION"}]},{path:"/",name:"AccessContext",component:v,children:[{path:"/transition",component:G,name:"TRANSITION"},{path:"/workflow",component:M,name:"workflow"},{path:"/node",component:J,name:"node"},{path:"/accesscontext",component:ee,name:"accesscontext"},{path:"/user",component:ae,name:"user"},{path:"/group",component:se,name:"group"},{path:"/userGroup",component:me,name:"userGroup"},{path:"/role",component:he,name:"role"},{path:"/permission",component:_e,name:"permission"},{path:"/groupRole",component:Fe,name:"groupRole"}]},{path:"/",name:"Documents",component:v,children:[{path:"/documents",component:Ce,name:"documents"},{path:"/event",component:Te,name:"event"}]},{path:"/",name:"Documentlist",component:v,children:[{path:"/documentlist",component:je,name:"documentlist"},{path:"/documentdetail",component:Oe,name:"documentdetail"}]},{path:"/",name:"mailbox",component:v,children:[{path:"/usermailbox",component:Ye,name:"usermailbox"},{path:"/groupmailbox",component:Ke,name:"groupmailbox"}]}]}),Je=o("Ip9M"),Xe=o.n(Je),Ze=(o("8Fkr"),o("aozt")),Qe=o.n(Ze),et=(o("7xIN"),o("ryJa")),tt=o.n(et),ot=o("JzjD"),nt=o.n(ot);o("rPrH");n.default.prototype.$moment=tt.a,n.default.filter("dateformat",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return tt()(e).format(t)}),n.default.prototype.$ajax=Qe.a,Qe.a.defaults.headers.post["Content-Type"]="application/json",n.default.config.productionTip=!1,n.default.use(Xe.a),n.default.use(nt.a),new n.default({el:"#app",render:function(e){return e(l)},router:qe,components:{App:l},template:"<App/>"})},NgcA:function(e,t){},RLsL:function(e,t){},WeLD:function(e,t){},YT5i:function(e,t){},aTsB:function(e,t){},"bG/j":function(e,t){},fGiO:function(e,t){},fSkL:function(e,t,o){var n={"./af":"1OrJ","./af.js":"1OrJ","./ar":"bHl5","./ar-dz":"qFyv","./ar-dz.js":"qFyv","./ar-kw":"OhBR","./ar-kw.js":"OhBR","./ar-ly":"3AjD","./ar-ly.js":"3AjD","./ar-ma":"sFwh","./ar-ma.js":"sFwh","./ar-sa":"gg0N","./ar-sa.js":"gg0N","./ar-tn":"lqw4","./ar-tn.js":"lqw4","./ar.js":"bHl5","./az":"xLUF","./az.js":"xLUF","./be":"NWv/","./be.js":"NWv/","./bg":"G9eV","./bg.js":"G9eV","./bm":"zaEJ","./bm.js":"zaEJ","./bn":"/icp","./bn.js":"/icp","./bo":"UyM9","./bo.js":"UyM9","./br":"G5xs","./br.js":"G5xs","./bs":"9h8A","./bs.js":"9h8A","./ca":"8ccl","./ca.js":"8ccl","./cs":"TEiJ","./cs.js":"TEiJ","./cv":"7EVA","./cv.js":"7EVA","./cy":"H6w8","./cy.js":"H6w8","./da":"MSIt","./da.js":"MSIt","./de":"Rl+D","./de-at":"30Vd","./de-at.js":"30Vd","./de-ch":"KKU8","./de-ch.js":"KKU8","./de.js":"Rl+D","./dv":"+DOJ","./dv.js":"+DOJ","./el":"8nDw","./el.js":"8nDw","./en-SG":"1hne","./en-SG.js":"1hne","./en-au":"ZsCN","./en-au.js":"ZsCN","./en-ca":"rHyc","./en-ca.js":"rHyc","./en-gb":"ehFk","./en-gb.js":"ehFk","./en-ie":"Hxoc","./en-ie.js":"Hxoc","./en-il":"oEKo","./en-il.js":"oEKo","./en-nz":"SfkL","./en-nz.js":"SfkL","./eo":"UhWX","./eo.js":"UhWX","./es":"JJW5","./es-do":"LWvi","./es-do.js":"LWvi","./es-us":"RzRn","./es-us.js":"RzRn","./es.js":"JJW5","./et":"pjM/","./et.js":"pjM/","./eu":"oBFE","./eu.js":"oBFE","./fa":"z8Fc","./fa.js":"z8Fc","./fi":"j+B7","./fi.js":"j+B7","./fo":"MuUW","./fo.js":"MuUW","./fr":"CZ8n","./fr-ca":"nDiE","./fr-ca.js":"nDiE","./fr-ch":"T2mj","./fr-ch.js":"T2mj","./fr.js":"CZ8n","./fy":"+eCN","./fy.js":"+eCN","./ga":"6KMf","./ga.js":"6KMf","./gd":"Osat","./gd.js":"Osat","./gl":"3uJi","./gl.js":"3uJi","./gom-latn":"kQyN","./gom-latn.js":"kQyN","./gu":"C85o","./gu.js":"C85o","./he":"Uaie","./he.js":"Uaie","./hi":"KLVO","./hi.js":"KLVO","./hr":"/AQ7","./hr.js":"/AQ7","./hu":"neNx","./hu.js":"neNx","./hy-am":"HL0q","./hy-am.js":"HL0q","./id":"fVYV","./id.js":"fVYV","./is":"pUHy","./is.js":"pUHy","./it":"N5fZ","./it-ch":"KCG7","./it-ch.js":"KCG7","./it.js":"N5fZ","./ja":"bVIB","./ja.js":"bVIB","./jv":"NpB+","./jv.js":"NpB+","./ka":"8RqC","./ka.js":"8RqC","./kk":"pcbE","./kk.js":"pcbE","./km":"o5og","./km.js":"o5og","./kn":"BKte","./kn.js":"BKte","./ko":"vztA","./ko.js":"vztA","./ku":"OmHn","./ku.js":"OmHn","./ky":"gQFs","./ky.js":"gQFs","./lb":"sJOA","./lb.js":"sJOA","./lo":"Wg2E","./lo.js":"Wg2E","./lt":"N5Ie","./lt.js":"N5Ie","./lv":"Z/KU","./lv.js":"Z/KU","./me":"6nQR","./me.js":"6nQR","./mi":"dZ9v","./mi.js":"dZ9v","./mk":"8ttA","./mk.js":"8ttA","./ml":"TFUT","./ml.js":"TFUT","./mn":"Rtcs","./mn.js":"Rtcs","./mr":"ZrND","./mr.js":"ZrND","./ms":"Uszi","./ms-my":"B+3a","./ms-my.js":"B+3a","./ms.js":"Uszi","./mt":"f+DN","./mt.js":"f+DN","./my":"7hhd","./my.js":"7hhd","./nb":"O+uN","./nb.js":"O+uN","./ne":"xB1H","./ne.js":"xB1H","./nl":"pyzp","./nl-be":"6XY9","./nl-be.js":"6XY9","./nl.js":"pyzp","./nn":"wWYI","./nn.js":"wWYI","./pa-in":"khMS","./pa-in.js":"khMS","./pl":"J+lf","./pl.js":"J+lf","./pt":"imZp","./pt-br":"yh7C","./pt-br.js":"yh7C","./pt.js":"imZp","./ro":"/ydL","./ro.js":"/ydL","./ru":"XA72","./ru.js":"XA72","./sd":"K+sy","./sd.js":"K+sy","./se":"HXCg","./se.js":"HXCg","./si":"JhyT","./si.js":"JhyT","./sk":"QL3+","./sk.js":"QL3+","./sl":"KbOk","./sl.js":"KbOk","./sq":"jkQm","./sq.js":"jkQm","./sr":"vGLH","./sr-cyrl":"lZcv","./sr-cyrl.js":"lZcv","./sr.js":"vGLH","./ss":"ikBz","./ss.js":"ikBz","./sv":"gbWe","./sv.js":"gbWe","./sw":"YR+a","./sw.js":"YR+a","./ta":"otVD","./ta.js":"otVD","./te":"3YuF","./te.js":"3YuF","./tet":"IJME","./tet.js":"IJME","./tg":"iKfg","./tg.js":"iKfg","./th":"v87T","./th.js":"v87T","./tl-ph":"otiP","./tl-ph.js":"otiP","./tlh":"L/GK","./tlh.js":"L/GK","./tr":"phcV","./tr.js":"phcV","./tzl":"rgrh","./tzl.js":"rgrh","./tzm":"1pHS","./tzm-latn":"q7e0","./tzm-latn.js":"q7e0","./tzm.js":"1pHS","./ug-cn":"tsGA","./ug-cn.js":"tsGA","./uk":"01SB","./uk.js":"01SB","./ur":"jayG","./ur.js":"jayG","./uz":"k3sX","./uz-latn":"nmSA","./uz-latn.js":"nmSA","./uz.js":"k3sX","./vi":"KTvP","./vi.js":"KTvP","./x-pseudo":"dccK","./x-pseudo.js":"dccK","./yo":"IAhR","./yo.js":"IAhR","./zh-cn":"5Spc","./zh-cn.js":"5Spc","./zh-hk":"ECSc","./zh-hk.js":"ECSc","./zh-tw":"hH/4","./zh-tw.js":"hH/4"};function a(e){return o(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="fSkL"},i3E4:function(e,t){},"ont/":function(e,t){},pkCJ:function(e,t){},rPrH:function(e,t){},t9WT:function(e,t){},utzg:function(e,t){},wukj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.81a2cf1ea88b5ec6be3a.js.map